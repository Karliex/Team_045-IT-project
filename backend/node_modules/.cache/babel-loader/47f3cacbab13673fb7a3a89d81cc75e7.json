{"ast":null,"code":"var _jsxFileName = \"/Users/david/Desktop/it_ass/Team_045-IT-project/backend/src/search.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport \"./search.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  // Constructor method\n  constructor(props) {\n    super(props);\n\n    this.setQuery = event => {\n      const query = event.target.value;\n      this.setState({\n        query: query\n      });\n    };\n\n    this.fetchResults = event => {\n      const searchURL = \"http://localhost:4000/user/search\";\n      const queryData = {\n        query: this.state.query\n      };\n      Axios.post(searchURL, queryData).then(res => {\n        this.setState({\n          results: res.data.results\n        });\n        console.log(res);\n        console.log(this.state.results);\n      }).catch(res => {\n        console.log(\"Search did not go through!\");\n        console.log(res);\n      });\n      console.log(\"Search complete\");\n      console.log(this.state.results);\n    };\n\n    this.handleChange = event => {\n      const query = event.target.value;\n      this.setState({\n        query: query\n      });\n      this.fetchResults(query);\n    };\n\n    this.clearInput = () => {\n      this.setState({\n        query: ''\n      });\n    };\n\n    this.state = {\n      query: '',\n      results: []\n    };\n    this.setQuery = this.setQuery.bind(this);\n    this.fetchResults = this.fetchResults.bind(this);\n  } // Update's user input in search bar\n\n\n  // Renders the page\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchInputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.fetchResults,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"query\",\n            value: this.state.query,\n            placeholder: \"Search...\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchIcon\",\n          children: this.state.query.length === 0 ? /*#__PURE__*/_jsxDEV(SearchIcon, {\n            style: {\n              color: \"orange\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(CloseIcon, {\n            style: {\n              color: \"orange\"\n            },\n            id: \"clearBtn\",\n            onClick: this.clearInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/david/Desktop/it_ass/Team_045-IT-project/backend/src/search.js"],"names":["React","Axios","SearchIcon","CloseIcon","Search","Component","constructor","props","setQuery","event","query","target","value","setState","fetchResults","searchURL","queryData","state","post","then","res","results","data","console","log","catch","handleChange","clearInput","bind","render","length","color"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Axios from 'axios';\nimport \"./search.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nclass Search extends React.Component  {\n\n    // Constructor method\n    constructor(props) {\n        super(props);\n\n        this.state = {\n        query: '',\n        results: []\n        }\n\n        this.setQuery = this.setQuery.bind(this)\n        this.fetchResults = this.fetchResults.bind(this)\n    }\n\n    // Update's user input in search bar\n    setQuery = (event) => {\n        const query = event.target.value;\n        this.setState({query: query});\n    }\n\n    // Get search results\n    fetchResults = (event) =>  {\n        \n        const searchURL = \"http://localhost:4000/user/search\"\n        const queryData = {query: this.state.query}\n\n        Axios.post(searchURL, queryData)\n        .then(res => {\n            this.setState({\n                results: res.data.results,\n            })\n            console.log(res);\n            console.log(this.state.results)\n        }).catch(res => {\n            console.log(\"Search did not go through!\")\n            console.log(res);\n        });\n\n\n\n        \n        console.log(\"Search complete\");\n        console.log(this.state.results);\n    }\n\n    // Update's user input in search bar\n    handleChange = (event) => {\n        const query = event.target.value;\n        this.setState({query: query});\n        this.fetchResults(query);\n    }\n\n    // Clears search input\n    clearInput = () => {\n        this.setState({query: ''});\n    };\n\n    // Renders the page\n    render() {\n        return (\n        <div className=\"search\">\n            <div className=\"searchInputs\">\n            <form onSubmit={this.fetchResults}>\n                <input \n                type=\"text\" \n                name=\"query\" \n                value={this.state.query}\n                placeholder=\"Search...\" \n                onChange={this.handleChange}\n                />\n            </form>\n            <div className=\"searchIcon\">\n                {this.state.query.length === 0 ? (\n                <SearchIcon style={{ color: \"orange\" }}/>\n                ) : (\n                <CloseIcon style={{ color: \"orange\" }} id=\"clearBtn\" onClick={this.clearInput} />\n                )}\n            </div>\n            </div>\n        </div>  \n        );\n    }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}